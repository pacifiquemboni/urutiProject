(self.webpackChunkvuna_deile=self.webpackChunkvuna_deile||[]).push([[862],{76194:(e,s,l)=>{"use strict";l.d(s,{A:()=>o});const r={button:"style_button__99k47",outlined:"style_outlined__AqGaS",no_border:"style_no_border__fm7-J",oneline:"style_oneline__6c4U6",size_sm:"style_size_sm__ZrtE5",size_xsm:"style_size_xsm__4T4kE",size_xsm2:"style_size_xsm2__v5Loa",size_xsm3:"style_size_xsm3__nYksY",progress_success:"style_progress_success__k1oA-",progress_pending:"style_progress_pending__45mEU",progress_warning:"style_progress_warning__Fkw8Q",progress_complete:"style_progress_complete__7fmtz",progress_fail:"style_progress_fail__JDsKy"};var a=l(91046);function o(e){let{children:s,type:l="button",outlined:o,oneline:n,bordered:t=!0,icon:i=(0,a.jsx)(a.Fragment,{}),size:d,progress:u,className:c="",onClick:p=()=>{},disabled:m,ref:h,...v}=e;return(0,a.jsxs)("button",{ref:h,type:l,className:`${r.button} ${t?"":r.no_border} ${o&&r.outlined} ${n&&r.oneline} ${d&&r[`size_${d}`]} ${u&&r[`progress_${u}`]} ${c}`,disabled:m,onClick:p,...v,children:[i,(0,a.jsx)("span",{children:s})]})}},45103:(e,s,l)=>{"use strict";l.d(s,{A:()=>m});var r=l(76194),a=l(94055),o=l(67865),n=l(42215),t=l(95834),i=l(18345),d=l(14710),u=l(34049),c=l(94949),p=l(91046);function m(e){let{user:s,onClose:l}=e;const m=(0,n.j)(),h=(0,d.useCallback)((async(e,r)=>{let{setErrors:a,setStatus:n,setSubmitting:t}=r;const{submit:i,cpassword:d,...c}=e,p=u.oR.loading("Resetting Password...");try{t(!1),n({success:!0}),await m((0,o.h3)({id:null===s||void 0===s?void 0:s.id,password:null===c||void 0===c?void 0:c.password})).unwrap(),null===l||void 0===l||l(),u.oR.update(p,{render:"Password Reset Successfully!",type:"success",isLoading:!1,autoClose:5e3})}catch(h){n({success:!1}),a({submit:h.message||"Something went wrong"}),t(!1),u.oR.update(p,{render:"Error in Resetting Password.",type:"error",isLoading:!1,autoClose:5e3})}}),[m,l,null===s||void 0===s?void 0:s.id]);return(0,p.jsx)(i.l1,{initialValues:{password:"",cpassword:"",submit:null},validationSchema:c.Ik().shape({password:c.Yj().min(3).max(50).required("Password is required"),cpassword:c.Yj().required("Please retype your password.").oneOf([c.KR("password")],"Your passwords do not match.")}),onSubmit:h,children:e=>{let{errors:s,handleBlur:l,handleChange:o,handleSubmit:n,isSubmitting:i,touched:d,values:u}=e;return(0,p.jsxs)("form",{method:"post",className:"flex flex-col gap-4 text-sm [&_input]:!rounded-xl",onSubmit:n,children:[s.submit&&(0,p.jsx)("p",{className:"text-red-500 -my-2",children:s.submit}),(0,p.jsx)(a.pd,{label:"Password",name:"password",type:"password",placeholder:"Create Passsword",autoComplete:"password",onChange:o,onBlur:l,value:u.password,error:s.password,isTouched:Boolean(d.password),className:"!text-sm !px-4 !py-2.5",required:!0}),(0,p.jsx)(a.pd,{label:"Confirm Password",name:"cpassword",type:"password",placeholder:"Confirm Your Password",autoComplete:"password",onChange:o,onBlur:l,value:u.cpassword,error:s.cpassword,isTouched:Boolean(d.cpassword),className:"!text-sm !px-4 !py-2.5",required:!0}),(0,p.jsxs)("div",{className:"flex justify-end pt-2 gap-2",children:[(0,p.jsx)(r.A,{type:"reset",outlined:!0,disabled:i,size:"xsm",className:"!rounded-full",children:"Cancel"}),(0,p.jsx)(r.A,{type:"submit",disabled:i,size:"xsm",className:"!rounded-full",icon:i&&(0,p.jsx)(t.A,{color:"inherit",size:16}),children:"Reset Password"})]})]})}})}},94055:(e,s,l)=>{"use strict";l.d(s,{zk:()=>v,pd:()=>i,tT:()=>m,l6:()=>c,TM:()=>d});var r=l(14710);const a={input:"style_input__bLSca",label:"style_label__UrWPR",input_value:"style_input_value__ekW6f",autoHeight:"style_autoHeight__SiF62",valid:"style_valid__6-Lz5",autoWidth:"style_autoWidth__9LSRa",hidden:"style_hidden__62O8Y",error:"style_error__Op+ud",icons:"style_icons__JNZQK",chechbox:"style_chechbox__8C9KB",input_btn:"style_input_btn__56waj",uploader:"style_uploader__e-xX1",modal:"style_modal__g4D8Y",hover:"style_hover__AzUvB"};var o=l(22301),n=l(59297),t=l(91046);function i(e){let{name:s,id:l,placeholder:i="",boxClassName:d="",label:u="",type:c="text",inputMode:p,required:m=!1,readOnly:h=!1,autoFocus:v=!1,defaultValue:x="",value:_="",autoComplete:g,pattern:y,register:f={},error:b="",onChange:j,onBlur:w,options:C,isTouched:N,...k}=e;const S=(0,r.useId)(),$=(0,r.useMemo)((()=>l||S),[S,l]),z=(0,r.useId)(),A=(0,r.useRef)(null),[R,P]=(0,r.useState)(!1),q=(0,r.useMemo)((()=>"password"==c&&R?"text":c),[R,c]),T=(0,r.useCallback)((e=>{const s=e.target.value,l=C?C.map((e=>"string"==typeof e?e:e.value)).filter((e=>e==s))[0]:s;j&&j(e,{value:s,validValue:l})}),[j,C]);return(0,r.useEffect)((()=>{A.current&&![void 0,null,NaN].includes(_)&&_&&(A.current.value=_)}),[_]),(0,t.jsxs)("label",{className:`${a.input} ${d}`,htmlFor:$,children:[u&&(0,t.jsx)("span",{className:a.label,children:u}),(0,t.jsx)("input",{name:s,ref:A,inputMode:p||"number"==c?"numeric":"none",type:q,pattern:y,placeholder:i,id:$,list:z,defaultValue:null!==x&&void 0!==x?x:_,autoComplete:g,autoFocus:v,required:m,onChange:T,onBlur:w,readOnly:h,...f,...k}),C&&Array.isArray(C)&&C.length>0&&(0,t.jsx)("datalist",{id:z,children:C.map((e=>(0,t.jsx)("option",{value:""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e,children:(null===e||void 0===e?void 0:e.text)||e},""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e)))}),N&&b&&(0,t.jsx)("span",{className:`error ${a.error}`,children:b}),(0,t.jsx)("div",{className:a.icons,children:"password"==c&&(R?(0,t.jsx)(o.A,{className:"size-6 text-grey",onClick:()=>P(!1)}):(0,t.jsx)(n.A,{className:"size-6 text-grey",onClick:()=>P(!0)}))})]})}function d(e){let{placeholder:s="",label:l="",required:o,boxClassName:n="",resize:i="vertical",defaultValue:d="",register:u={},error:c="",isTouched:p,onChange:m=()=>{},...h}=e;const v=(0,r.useId)(),[x]=(0,r.useState)((()=>"vertical"===i.toLowerCase()?"vertical":"horizontal"===i.toLowerCase()?"horizontal":"vertical"));return(0,t.jsxs)("label",{className:`${a.input} ${n}`,children:[l&&(0,t.jsx)("span",{className:a.label,children:l}),(0,t.jsx)("textarea",{placeholder:s,defaultValue:d,id:v,required:o,style:{resize:`${x}`},onChange:m,...u,...h}),p&&c&&(0,t.jsx)("span",{className:`error ${a.error}`,children:c})]})}function u(e){let{children:s}=e;return(0,t.jsx)("small",{children:(0,t.jsxs)("b",{children:["(",s,")"]})})}function c(e){let{placeholder:s="",label:l="",required:o,defaultValue:n="",boxClassName:i="",value:d="",id:c,autoComplete:p,name:m,disabled:h,register:v={},onChange:x=()=>null,options:_,children:g,error:y="",isTouched:f,...b}=e;const j=(0,r.useId)(),w=(0,r.useRef)(null);(0,r.useEffect)((()=>{w.current&&"string"!=typeof d&&(w.current.value=d)}),[d]);const C=(0,r.useMemo)((()=>{var e,s;const l=null!==(e=null===_||void 0===_?void 0:_.findIndex((e=>[n,d].includes("string"==typeof e?e:null===e||void 0===e?void 0:e.value))))&&void 0!==e?e:-1;if(-1!==l)return"string"==typeof(null===_||void 0===_?void 0:_[l])?null===_||void 0===_?void 0:_[l]:null===_||void 0===_||null===(s=_[l])||void 0===s?void 0:s.text}),[n,_,d]);return(0,t.jsxs)("label",{htmlFor:c||j,className:`${a.input} ${i}`,children:[l&&(0,t.jsxs)("span",{className:a.label,children:[l,C&&(0,t.jsx)(u,{children:C})]}),(0,t.jsxs)("select",{ref:w,required:o,name:m,id:c||j,disabled:h,onChange:x,autoComplete:p,defaultValue:d||n||s||"",...v,...b,children:[s&&(0,t.jsx)("option",{value:"",className:`${a.placeholder} grey`,children:s}),_&&Array.isArray(_)&&_.length>0?_.map((e=>(0,t.jsx)("option",{value:""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e,children:(null===e||void 0===e?void 0:e.text)||e},""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e))):g]}),f&&y&&(0,t.jsx)("span",{className:`error ${a.error}`,children:y})]})}const p=(e,s)=>{(0,r.useEffect)((()=>{if(e){e.style.height="0px";const s=e.scrollHeight;e.style.height=s+"px"}}),[e,s])};function m(e){let{defaultValue:s="",placeholder:l,className:o,boxClassName:n="",name:i,id:d,error:u="",isTouched:c,label:m,required:h,onChange:v,onBlur:x}=e;const _=(0,r.useId)(),g=(0,r.useMemo)((()=>d||_),[_,d]),[y,f]=(0,r.useState)(s),b=(0,r.useRef)(null);p(b.current,y);return(0,t.jsxs)("label",{onClick:focus,className:`${a.input} ${n}`,children:[m&&(0,t.jsx)("span",{className:a.label,children:m}),(0,t.jsx)("textarea",{id:g,name:i,onBlur:x,onChange:e=>{var s;const l=null===(s=e.target)||void 0===s?void 0:s.value;f(l),null===v||void 0===v||v(e)},placeholder:l,ref:b,rows:1,value:y,className:`${o}`,required:h}),c&&u&&(0,t.jsx)("span",{className:`error ${a.error}`,children:u})]})}var h=l(43325);function v(e){let{id:s,className:l,onChange:o,children:n,hoverDiv:i,hoverClassName:d}=e;const u=(0,r.useId)(),c=(0,r.useMemo)((()=>s||u),[u,s]),[p,m]=(0,r.useState)([]),[v,x]=(0,r.useState)(void 0),_=(0,r.useMemo)((()=>"image/png, image/gif, image/jpeg, image/webp".split(", ")),[]),g=(0,r.useCallback)((async e=>{x((()=>{}));let s=!0;for(let r=0;r<e.length;r++){var l;if(!_.includes(null===(l=e[r])||void 0===l?void 0:l.type)){s=!1;break}}if(!s)return x((()=>`Accepted are ${_.join(", ")}`));await m((s=>{const l=[...e,...s].filter(((e,s,l)=>l.findIndex((s=>e.name===s.name&&e.size===s.size))===s));return null===o||void 0===o||o(e,l),l}))}),[_,o]),{getRootProps:y,getInputProps:f,isDragActive:b}=(0,h.VB)({onDrop:g}),j=(0,r.useCallback)((e=>{try{e.value=null}catch(s){}e.value&&e.parentNode.replaceChild(e.cloneNode(!0),e)}),[]),w=(0,r.useCallback)((e=>{m((s=>s.filter((s=>s!==e))))}),[]);return(0,t.jsxs)("label",{htmlFor:c,...y(),onClick:e=>e.stopPropagation(),className:`${a.uploader} ${l}`,children:[(null===n||void 0===n?void 0:n({files:p,error:v,removeImage:w}))||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("b",{children:"Drag here"})," your file or ",(0,t.jsx)("b",{children:"Click here"})," to upload"]}),v&&(0,t.jsx)("p",{children:v})]}),b&&(0,t.jsxs)("p",{className:a.modal,children:[(0,t.jsx)("b",{children:"Drop"}),"\xa0the files\xa0",(0,t.jsx)("b",{children:"here"})," ..."]}),(0,t.jsx)("input",{type:"file",multiple:!0,id:c,onChange:async e=>{j(e.target)},...f()}),i&&(0,t.jsx)("div",{className:`${a.hover} ${d}`,children:"function"==typeof i?(0,t.jsx)(i,{}):(0,t.jsxs)("p",{children:[(0,t.jsx)("b",{children:"Drag here"})," your file or ",(0,t.jsx)("b",{children:"Click here"})," to upload"]})})]})}},16330:(e,s,l)=>{"use strict";l.d(s,{A:()=>t,w:()=>i});var r=l(62979),a=l.n(r),o=l(76194),n=l(91046);function t(e){let{children:s,isOpen:l,onRequestClose:r,className:o,size:t}=e;return(0,n.jsx)(a(),{isOpen:l,onRequestClose:r,className:`${t?`size_${t}`:""} ${o||""}`,children:s})}function i(e){let{onClose:s,title:l}=e;return(0,n.jsxs)("div",{className:"flex justify-between mb-4",children:["string"==typeof l?(0,n.jsx)("h3",{children:l}):l,(0,n.jsx)(o.A,{className:"!text-black !bg-transparent !p-0",size:"xsm2",onClick:()=>s(),children:"X"})]})}a().setAppElement("#modals")},11803:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>h});var r=l(76194),a=l(94055),o=l(14710),n=l(48419),t=l(67865),i=l(42215),d=l(18345),u=l(94949),c=l(16330),p=l(45103),m=l(91046);function h(){const e=(0,i.j)(),[s,l]=(0,o.useState)(!1),[h,v]=(0,o.useState)({}),x=(0,o.useCallback)((async(s,r)=>{let{setErrors:a,setStatus:o,setSubmitting:i}=r;try{const r=await e((0,t.eR)({username:s.email,password:s.password})).unwrap();var d,u,c,p;if(i(!1),o({success:!0}),null!==r&&void 0!==r&&r.accessToken)null===r||void 0===r||null===(d=r.userInfo)||void 0===d||null===(u=d.realmRoles)||void 0===u||!u.includes("run_draw")||null!==r&&void 0!==r&&null!==(c=r.userInfo)&&void 0!==c&&null!==(p=c.realmRoles)&&void 0!==p&&p.includes("view_dashboard")||window.location.assign(n.lC);else v({...r,id:null===r||void 0===r?void 0:r.userId}),l(!0)}catch(x){var m,h;o({success:!1}),a({submit:(null===x||void 0===x||null===(m=x.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message)||x.message||"Something went wrong"}),i(!1)}}),[e]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.l1,{initialValues:{email:"",password:"",submit:null},validationSchema:u.Ik().shape({email:u.Yj().max(50).required("Email or phone number is required"),password:u.Yj().min(3).max(15).required("Password is required")}),onSubmit:x,children:e=>{let{errors:s,handleBlur:l,handleChange:o,handleSubmit:n,isSubmitting:t,touched:i,values:d}=e;return(0,m.jsxs)("form",{method:"post",className:"flex flex-col gap-4 my-6 w-[min(24rem,100%)] mx-auto px-4 justify-center [&_input]:!rounded-xl",onSubmit:n,children:[(0,m.jsxs)("div",{className:"capitalize",children:[(0,m.jsx)("h2",{className:"text-4xl text-primary",children:"Welcome Back"}),(0,m.jsx)("p",{className:"text-dark-grey mt-4",children:"fill in your credentials"})]}),null!==s&&void 0!==s&&s.submit?(0,m.jsx)("p",{className:"text-red-500 -my-2",children:null===s||void 0===s?void 0:s.submit}):(0,m.jsx)("p",{className:"text-transparent select-none -my-2",children:"error"}),(0,m.jsx)(a.pd,{name:"email",label:"Username or Email",placeholder:"Username or Email",autoComplete:"username",onChange:o,onBlur:l,value:d.email,error:s.email,isTouched:Boolean(i.email),required:!0}),(0,m.jsx)(a.pd,{name:"password",label:"Password",type:"password",placeholder:"Enter Your Password",error:s.password,value:d.password,onChange:o,onBlur:l,isTouched:Boolean(i.password),required:!0}),(0,m.jsx)(r.A,{type:"submit",className:"!rounded-xl !py-3",disabled:t,children:t?(0,m.jsx)(m.Fragment,{children:"Please wait..."}):"Log In"})]})}}),(0,m.jsxs)(c.A,{size:"sm",isOpen:s,onRequestClose:()=>l(!1),children:[(0,m.jsx)(c.w,{title:"Reset Your Password",onClose:()=>l(!1)}),(0,m.jsx)(p.A,{user:h,onClose:()=>l(!1)})]})]})}},42215:(e,s,l)=>{"use strict";l.d(s,{G:()=>o,j:()=>a});var r=l(10048);const a=r.wA,o=r.d4},95834:(e,s,l)=>{"use strict";l.d(s,{A:()=>r});var r=(0,l(79).A)("circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]])},94282:(e,s,l)=>{"use strict";var r=l(54745);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,s,l,a,o,n){if(n!==r){var t=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw t.name="Invariant Violation",t}}function s(){return e}e.isRequired=e;var l={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:o,resetWarningCache:a};return l.PropTypes=l,l}},63296:(e,s,l)=>{e.exports=l(94282)()},54745:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=862.a0906aa7.chunk.js.map