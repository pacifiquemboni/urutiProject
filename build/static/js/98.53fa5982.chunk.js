"use strict";(self.webpackChunkvuna_deile=self.webpackChunkvuna_deile||[]).push([[98],{78468:(e,l,o)=>{o.d(l,{A:()=>s});var t=o(39338),i=o(42215),r=o(47472),d=o(14710),n=o(91046);const s=function(e){var l,o,s,a;let{children:u,roles:c=[],permission:v,otherwise:g,fallback:p,...m}=e;const{good:b,bad:h}=(0,t.S)(c),{good:x,bad:y}=(0,t.S)(v?Array.isArray(v)?v:[v]:[""]),{user:f,status:j,allowedPermissions:w}=(0,i.G)((e=>e.user));return"pending"==j||"pending"==w.status?(0,n.jsx)(r.A,{}):(v?(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.some((e=>x.includes(e))))&&(null===w||void 0===w||null===(o=w.list)||void 0===o||!o.some((e=>y.includes(e)))):0===c.length||h.length&&!h.includes(null===f||void 0===f||null===(s=f.role)||void 0===s?void 0:s.toLowerCase())||b.length&&(null===b||void 0===b?void 0:b.includes(null===f||void 0===f||null===(a=f.role)||void 0===a?void 0:a.toLowerCase())))?(0,n.jsx)(d.Fragment,{...m,children:u}):g||(p?(0,n.jsx)(d.Fragment,{...m,children:p}):(0,n.jsx)(d.Fragment,{...m}))}},16330:(e,l,o)=>{o.d(l,{A:()=>n,w:()=>s});var t=o(62979),i=o.n(t),r=o(76194),d=o(91046);function n(e){let{children:l,isOpen:o,onRequestClose:t,className:r,size:n}=e;return(0,d.jsx)(i(),{isOpen:o,onRequestClose:t,className:`${n?`size_${n}`:""} ${r||""}`,children:l})}function s(e){let{onClose:l,title:o}=e;return(0,d.jsxs)("div",{className:"flex justify-between mb-4",children:["string"==typeof o?(0,d.jsx)("h3",{children:o}):o,(0,d.jsx)(r.A,{className:"!text-black !bg-transparent !p-0",size:"xsm2",onClick:()=>l(),children:"X"})]})}i().setAppElement("#modals")},9356:(e,l,o)=>{o.r(l),o.d(l,{default:()=>z});const t={roulette:"style_roulette__NYSyY",spinner:"style_spinner__gV2b1","rotate-all":"style_rotate-all__IIA5l",ball:"style_ball__r0gdo",logo:"style_logo__hxa9o",loading:"style_loading__OFv6Q",logoOpen:"style_logoOpen__WHayZ",load:"style_load__5sVMu"},i=o.p+"static/media/roulette_11.c0c814291909414cb23c.png",r=o.p+"static/media/roulette_2.3189683a4a822623f8f7.png",d=o.p+"static/media/roulette_3.80d306709cbcb3607f63.png",n=o.p+"static/media/roulette_4.32ef967c831aa0cec6ee.png",s=o.p+"static/media/roulette_5.847412dc95e18e10d6f0.png",a=o.p+"static/media/logo.f848888cfbb991ae82ba.png",u=o.p+"static/media/Roulette Wheel Sound Effect (1).eefb0de56d498f1967e8.mp3";var c=o(14710);const v=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];[...v].sort(((e,l)=>e-l));var g=o(91046);function p(e){let{winningBet:l,timer:o,start:p,loading:m}=e;const b=(0,c.useRef)(null),h=(0,c.useRef)(null),x=(0,c.useRef)(null),y=(0,c.useCallback)((()=>{var e,o,t,i;const r=v.findIndex((e=>e==l)),d=Math.floor(20+4*Math.random()),n=null!==h&&void 0!==h&&h.current?Number(null===(e=getComputedStyle(null===h||void 0===h?void 0:h.current))||void 0===e||null===(o=e.getPropertyValue)||void 0===o||null===(t=o.call(e,"--rotate-angle"))||void 0===t||null===(i=t.split("deg"))||void 0===i?void 0:i[0]):0,s=r/v.length*360-360*(d+1);return{number:l,valIndex:r,angle:s+n-n%360}}),[l]),f=(0,c.useCallback)((()=>{var e,l,t,i,r;null===h||void 0===h||null===(e=h.current)||void 0===e||null===(l=e.style)||void 0===l||l.setProperty("--timer",`${o||7}s`),null===h||void 0===h||null===(t=h.current)||void 0===t||null===(i=t.style)||void 0===i||i.setProperty("--rotate-angle",`${y().angle||0}deg`),null===(r=x.current)||void 0===r||r.play()}),[y,o]);return(0,c.useEffect)((()=>{p&&f()}),[f,p]),(0,g.jsxs)("div",{className:t.roulette,ref:b,children:[(0,g.jsx)("img",{src:i}),(0,g.jsxs)("div",{className:`${t.roulette} ${t.spinner}`,ref:h,children:[(0,g.jsx)("img",{src:r,className:""}),(0,g.jsx)("div",{className:t.ball,children:(0,g.jsx)("span",{})})]}),(0,g.jsx)("img",{src:d}),(0,g.jsx)("img",{src:n}),(0,g.jsx)("img",{src:s}),(0,g.jsx)("img",{src:a,className:`${t.logo} ${m?t.loading:""}`}),(0,g.jsx)("audio",{src:u,ref:x})]})}const m=o.p+"static/media/background_2.6c156d459ec7a0cda2f2.png";var b=o(59282),h=o(93134);const x={roulette:"style_roulette__seX9V",roulette_back:"style_roulette_back__uJx1+"};var y=o(79664),f=o(48419),j=o(42215),w=o(28932),_=o(4449),N=o.n(_),k=o(78468),$=o(38035);function C(e){var l;let{start:o}=e;const t=(0,h.Zp)(),i=(0,j.j)(),{grouped:r}=(0,j.G)((e=>e.draw));return(0,g.jsxs)("nav",{className:"\r absolute grid gap-2 uppercase inset-16 mr-auto my-auto h-fit w-fit text-white\r [&>*]:flex [&>*]:gap-3 [&>*]:items-center [&>*]:border-opacity-5 [&>*]:bg-opacity-20",children:[null===(l=Object.keys(r))||void 0===l?void 0:l.map((e=>{var l,t,i,d,n,s,a,u,c,v,p,m,h,x,y,j,_,k,$,C,M,I,D;return(null===r||void 0===r||null===(l=r[e])||void 0===l?void 0:l.length)>1?(0,g.jsx)(w.A,{placement:"right",overlayClassName:"max-h-[90dvh] overflow-auto bg-grey bg-opacity-30 rounded-lg backdrop-blur-md border-2 border-solid border-opacity-10 border-gray-50 border-l-white",overlayInnerStyle:{padding:0,background:"transparent",overflow:"auto"},content:(0,g.jsx)(g.Fragment,{children:null===r||void 0===r||null===(t=r[e])||void 0===t?void 0:t.map((e=>{var l,t;return(0,g.jsxs)(b.k2,{onClick:l=>(o||(null===e||void 0===e?void 0:e.isPlayed))&&l.preventDefault(),to:`${f.F$}/${null===e||void 0===e?void 0:e.id}?q=${null===e||void 0===e||null===(l=e.product)||void 0===l?void 0:l.name}&img=${null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.picture}&s=${null===e||void 0===e?void 0:e.startDate}&e=${null===e||void 0===e?void 0:e.endDate}`,replace:!0,className:l=>{let{isActive:o}=l;return(null!==e&&void 0!==e&&e.isPlayed?"text-dark-grey":o?"!text-orange-500 bg-black bg-opacity-20":"text-light-grey hover:bg-black hover:bg-opacity-20 hover:text-white")+" flex p-4 py-2"},children:[N()(null===e||void 0===e?void 0:e.startDate).format("MMM-DD")," -"," ",N()(null===e||void 0===e?void 0:e.endDate).format("MMM-DD")]},null===e||void 0===e?void 0:e.id)}))}),children:(0,g.jsxs)("div",{className:"border-gray-50 text-light-grey !bg-secondary !bg-opacity-5 backdrop-blur p-1 border-2 border-solid justify-center rounded-md cursor-pointer",children:["productName",(0,g.jsx)("img",{src:null===r||void 0===r||null===(i=r[e])||void 0===i||null===(d=i[0])||void 0===d||null===(n=d.product)||void 0===n?void 0:n.productPicture,title:null===r||void 0===r||null===(s=r[e])||void 0===s||null===(a=s[0])||void 0===a||null===(u=a.product)||void 0===u?void 0:u.productName,className:"size-12 object-contain"})]})},e):(0,g.jsx)(b.k2,{onClick:l=>{var t,i;return(o||(null===r||void 0===r||null===(t=r[e])||void 0===t||null===(i=t[0])||void 0===i?void 0:i.isPlayed))&&l.preventDefault()},to:`${f.F$}/${null===r||void 0===r||null===(c=r[e])||void 0===c||null===(v=c[0])||void 0===v?void 0:v.drawId}?q=${null===r||void 0===r||null===(p=r[e])||void 0===p||null===(m=p[0])||void 0===m||null===(h=m.product)||void 0===h?void 0:h.productName}&img=${null===r||void 0===r||null===(x=r[e])||void 0===x||null===(y=x[0])||void 0===y||null===(j=y.product)||void 0===j?void 0:j.productPicture}&s=${null===r||void 0===r||null===(_=r[e])||void 0===_||null===(k=_[0])||void 0===k?void 0:k.startDate}&e=${null===r||void 0===r||null===($=r[e])||void 0===$||null===(C=$[0])||void 0===C?void 0:C.endDate}`,replace:!0,className:l=>{var o,t;let{isActive:i}=l;return(null!==r&&void 0!==r&&null!==(o=r[e])&&void 0!==o&&null!==(t=o[0])&&void 0!==t&&t.isPlayed?"text-grey border-gray-50":i?"text-orange-500 bg-orange-300 border-orange-500":"bg-white border-gray-50")+" p-1 justify-center border-2 border-solid rounded-md"},children:(0,g.jsx)("img",{src:null===r||void 0===r||null===(M=r[e])||void 0===M||null===(I=M[0])||void 0===I||null===(D=I.product)||void 0===D?void 0:D.picture,className:"size-12 object-contain"})},e)})),(0,g.jsx)(k.A,{permission:"view_dashboard",fallback:(0,g.jsxs)("div",{onClick:()=>{i((0,$.ri)())},className:"bg-white border-gray-50 p-4 border-2 border-solid rounded-md cursor-pointer",children:[(0,g.jsx)(y.Z3,{className:"w-6 text-light-grey"})," ",(0,g.jsx)("p",{className:"hidden",children:"ndinga"})]}),children:(0,g.jsxs)("div",{onClick:()=>{t(-1)},className:"bg-white border-gray-50 p-4 border-2 border-solid rounded-md cursor-pointer",children:[(0,g.jsx)(y.Z3,{className:"w-6 text-light-grey"})," ",(0,g.jsx)("p",{className:"hidden",children:"ndinga"})]})})]})}var M=o(16330);const I=o.p+"static/media/logo_wa_ndiga.29f20c5aef804a207a11.png";function D(e){var l,o,t;let{isOpen:i,setIsOpen:r,draw:d,winners:n}=e;const[s,a]=(0,c.useState)(""),u=(0,c.useMemo)((()=>{var e;return setTimeout((()=>{var e;return a(null===d||void 0===d||null===(e=d.product)||void 0===e?void 0:e.productPicture)}),1e3),null===d||void 0===d||null===(e=d.product)||void 0===e?void 0:e.productPicture}),[null===d||void 0===d||null===(l=d.product)||void 0===l?void 0:l.productPicture]);return console.log(n),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:null===d||void 0===d||null===(o=d.product)||void 0===o?void 0:o.productPicture,className:(u!=s?"anime":"")+" before aspect-square object-contain"}),(0,g.jsxs)(M.A,{size:"conner",isOpen:i,className:"bg-white text-white bg-opacity-10 border-2 border-solid border-gray-50 border-opacity-5 rounded-xl backdrop-blur-md",onRequestClose:()=>r(!1),children:[(0,g.jsx)("div",{className:"grid place-items-center w-fit mx-auto",style:{gridTemplateAreas:"child"},children:(0,g.jsx)("img",{src:I,className:"size-24",style:{gridArea:"child"}})}),(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"mt-6 text-center grid gap-3",children:null===n||void 0===n||null===(t=n.map)||void 0===t?void 0:t.call(n,(e=>{var l,o;return(0,g.jsx)("h3",{className:"token flex [&>*]:flex-1",children:null===e||void 0===e||null===(l=e.tokenId)||void 0===l||null===(o=l.split(""))||void 0===o?void 0:o.map(((e,l)=>(0,g.jsx)("span",{children:e},l)))},null===e||void 0===e?void 0:e.tokenId)}))})})]})]})}var S=o(93863),A=o(34049);function P(e){let{start:l,doSpin:o,draw:t}=e;const[i,r]=(0,c.useState)(!1),d=(0,j.j)(),n=(0,c.useCallback)((async()=>{try{r(!0),await d((0,S.b6)(null===t||void 0===t?void 0:t.drawId)).unwrap(),null===o||void 0===o||o()}catch(i){var e,l;(0,A.oR)((null===i||void 0===i||null===(e=i.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)||"Something went wrong",{type:"error",hideProgressBar:!0})}finally{r(!1)}}),[d,o,null===t||void 0===t?void 0:t.drawId]);return(0,g.jsx)("button",{type:"button",disabled:l||!t||i,onClick:n,className:(t?"":"hover:!opacity-80 !bg-grey")+" ",children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:"size-8",children:(0,g.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z",fill:"currentColor"})})})}function z(){var e,l,o;const t=(0,c.useRef)(null),[i,r]=(0,c.useState)(0),d=(0,c.useMemo)((()=>18),[]),[n,s]=(0,c.useState)(!1),[a,u]=(0,c.useState)(!1),[v,y]=(0,c.useState)(-1),[f]=(0,b.ok)(),{user:w}=(0,j.G)((e=>e.user)),{id:_}=(0,h.g)(),k=(0,j.j)(),{listById:$,winners:{list:M,status:I}}=(0,j.G)((e=>e.draw)),A=(0,c.useCallback)((()=>{const e=Math.floor(37*Math.random());y(e),s(!0),setTimeout((()=>{s(!1),u(!0)}),1e3*(d+1))}),[d]),z=(0,c.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var l,o,t,i;1==(null===w||void 0===w||null===(l=w.attributes)||void 0===l||null===(o=l.radioId)||void 0===o?void 0:o.length)&&(e.radioId=(null===w||void 0===w||null===(t=w.attributes)||void 0===t||null===(i=t.radioId)||void 0===i?void 0:i[0])||(null===e||void 0===e?void 0:e.radioId)),await k((0,S.pz)(e)).unwrap(),r(1)}catch(d){}}),[k,null===w||void 0===w||null===(e=w.attributes)||void 0===e?void 0:e.radioId]);return(0,c.useEffect)((()=>{var e,l;return null===(e=document.body)||void 0===e||null===(l=e.requestFullscreen())||void 0===l||l.catch((e=>{console.log({error:e})})),()=>{var e,l;document.fullscreenElement&&(null===(e=document)||void 0===e||null===(l=e.exitFullscreen())||void 0===l||l.catch((e=>{console.log({error:e})})))}}),[]),(0,c.useLayoutEffect)((()=>{0==i&&z({})}),[z,i]),(0,g.jsxs)("section",{className:`${x.roulette_back} grid min-h-dvh bg-cover bg-center`,style:{"--back-image":`url(${m})`},ref:t,children:[(0,g.jsxs)("div",{className:x.roulette,children:[(0,g.jsx)("div",{className:"size-[35rem] mx-auto",children:(0,g.jsx)(p,{loading:"pending"==I,winningBet:v,start:n,timer:d})}),(0,g.jsx)(P,{start:n,doSpin:A,draw:null===(l=$[`${_}`])||void 0===l?void 0:l[0]})]}),(0,g.jsx)(C,{start:n}),(null===f||void 0===f?void 0:f.get("img"))&&(0,g.jsx)("img",{src:`${null===f||void 0===f?void 0:f.get("img")}`,className:"absolute inset-40 object-contain mr-auto my-auto w-60 h-auto rounded-lg border-opacity-10 border-2 border-solid border-white bg-white bg-opacity-15 backdrop-blur-md"}),(null===f||void 0===f?void 0:f.get("s"))&&(null===f||void 0===f?void 0:f.get("e"))&&(0,g.jsx)("div",{className:"absolute inset-x-0 mx-0 bottom-0 flex justify-center bg-gradient-to-b from-transparent to-60% to-[#060020] ",children:(0,g.jsxs)("p",{className:"text-white text-2xl py-4 pt-8 font-medium flex gap-4",children:[(null===f||void 0===f?void 0:f.get("q"))&&(0,g.jsxs)("small",{children:[null===f||void 0===f?void 0:f.get("q"),":"]}),(0,g.jsxs)("span",{children:[N()(null===f||void 0===f?void 0:f.get("s")).format("MMM DD")," -"," ",N()(null===f||void 0===f?void 0:f.get("e")).format("MMM DD")]})]})}),$[`${_}`]&&(0,g.jsx)(D,{winners:M,isOpen:a,setIsOpen:u,winningBet:v,draw:null===(o=$[`${_}`])||void 0===o?void 0:o[0]})]})}}}]);
//# sourceMappingURL=98.53fa5982.chunk.js.map