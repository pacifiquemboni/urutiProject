"use strict";(self.webpackChunkvuna_deile=self.webpackChunkvuna_deile||[]).push([[844],{30427:(e,s,a)=>{a.d(s,{A:()=>v});var l=a(14710),t=a(76194),r=a(16330),n=a(94949),o=a(18345),i=a(94055),d=a(95834),c=a(79664),u=a(42215),p=a(27407),m=a(74184),h=a(91046);const v=e=>{let{updateUser:s}=e;const a=(0,l.useMemo)((()=>{var e,a;return s?{phoneNumber:(null===s||void 0===s||null===(e=s.attributes)||void 0===e||null===(a=e.phoneNumber)||void 0===a?void 0:a[0])||"",username:(null===s||void 0===s?void 0:s.username)||"",firstName:(null===s||void 0===s?void 0:s.firstName)||"",lastName:(null===s||void 0===s?void 0:s.lastName)||"",email:(null===s||void 0===s?void 0:s.email)||"",submit:null}:{phoneNumber:"",username:"",firstName:"",lastName:"",radioId:"",email:"",password:"",cpassword:"",submit:null}}),[s]),[v,x]=(0,l.useState)(!1),g=(0,u.j)(),[y,f]=(0,l.useState)(null),j=()=>{x(!0)},b=()=>{x(!1)},w=(0,l.useCallback)((async(e,l)=>{let{setErrors:t,setStatus:r,setSubmitting:n,setValues:o,setTouched:i}=l;try{const{submit:l,cpassword:t,...n}=e;s?await g((0,p.sb)({data:n,id:null===s||void 0===s?void 0:s.id})).unwrap():(n.radioId=y||void 0,await g((0,p.Yr)({data:n})).unwrap(),await g((0,p.x9)({})).unwrap()),r({success:!0}),i({}),o(a)}catch(x){var d,c,u,m,h,v;r({success:!1}),t({submit:(null===x||void 0===x||null===(d=x.response)||void 0===d||null===(c=d.data)||void 0===c||null===(u=c.message)||void 0===u||null===(m=u.map)||void 0===m||null===(h=m.call(u,(e=>`<p>${e},</p>`)))||void 0===h||null===(v=h.join)||void 0===v?void 0:v.call(h," "))||x.message||"Something went wrong, please try again."})}n(!1),b()}),[g,a,y,s]);return(0,h.jsxs)(l.Fragment,{children:[s?(0,h.jsxs)("div",{className:"px-4 py-2 hover:bg-black hover:bg-opacity-5",onClick:j,children:[(0,h.jsx)(c.qU,{className:"w-4"}),(0,h.jsx)("span",{className:"pl-3",children:"Edit"})]}):(0,h.jsx)(t.A,{size:"xsm",outlined:!0,onClick:j,children:(0,h.jsx)("span",{children:"Add User"})}),(0,h.jsxs)(r.A,{size:"sm",isOpen:v,onRequestClose:()=>b(),className:"font-outfit",children:[(0,h.jsx)(r.w,{title:(s?"Update":"Add")+" User",onClose:()=>b()}),(0,h.jsx)(o.l1,{initialValues:a,validationSchema:n.Ik().shape({phoneNumber:n.Yj().required("Phone number is required"),username:n.Yj().required("Username is required"),firstName:n.Yj().required("First name is required"),lastName:n.Yj().required("Last name is required"),...s?{email:n.Yj().email().required("Email is required")}:{password:n.Yj().min(3).max(50).required("Password is required"),cpassword:n.Yj().required("Please retype your password.").oneOf([n.KR("password")],"Your passwords do not match."),email:n.Yj().email().required("Email is required")}}),onSubmit:w,children:e=>{let{errors:a,handleBlur:l,handleChange:r,handleSubmit:n,isSubmitting:o,touched:c,values:u}=e;return(0,h.jsxs)("form",{noValidate:!0,onSubmit:n,className:"flex flex-col gap-3 my-4",children:[a.submit&&(0,h.jsx)("p",{className:"bg-red-500 p-2 px-4 text-white text-sm text-center rounded-md",dangerouslySetInnerHTML:{__html:a.submit}}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,h.jsx)(i.pd,{type:"text",name:"username",label:"Username",placeholder:"Enter Username",error:`${a.username||""}`,defaultValue:u.username,onChange:r,onBlur:l,isTouched:Boolean(c.username),className:"mb-0.5",boxClassName:s?"col-span-2":""}),!s&&(0,h.jsx)(m.A,{radioId:"",setRadioId:f,className:"!col-span-1"}),(0,h.jsx)(i.pd,{type:"text",name:"firstName",label:"First name",placeholder:"Enter first name",error:`${a.firstName||""}`,defaultValue:u.firstName,onChange:r,onBlur:l,isTouched:Boolean(c.firstName),className:"mb-0.5"}),(0,h.jsx)(i.pd,{type:"text",name:"lastName",label:"Last name",placeholder:"Enter last name",error:`${a.lastName||""}`,defaultValue:u.lastName,onChange:r,onBlur:l,isTouched:Boolean(c.lastName),className:"mb-0.5"}),(0,h.jsx)(i.pd,{name:"phoneNumber",label:"Phone number",placeholder:"Enter phone number",error:`${a.phoneNumber||""}`,defaultValue:u.phoneNumber,onChange:r,onBlur:l,isTouched:Boolean(c.phoneNumber),className:"mb-0.5"}),(0,h.jsx)(i.pd,{type:"text",name:"email",label:"Email Address",placeholder:"Enter Email",error:`${a.email||""}`,defaultValue:u.email,onChange:r,onBlur:l,isTouched:Boolean(c.email),className:"mb-0.5"}),!s&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.pd,{label:"Password",name:"password",type:"password",placeholder:"Create Passsword",autoComplete:"password",onChange:r,onBlur:l,value:u.password,error:a.password,isTouched:Boolean(c.password),required:!0}),(0,h.jsx)(i.pd,{label:"Confirm Password",name:"cpassword",type:"password",placeholder:"Confirm Your Password",autoComplete:"password",onChange:r,onBlur:l,value:u.cpassword,error:a.cpassword,isTouched:Boolean(c.cpassword),required:!0})]})]}),(0,h.jsxs)("div",{className:"flex justify-end pt-2 gap-2",children:[(0,h.jsx)(t.A,{type:"reset",outlined:!0,onClick:()=>b(),disabled:o,size:"xsm",className:"!rounded-full",children:"Cancel"}),(0,h.jsx)(t.A,{type:"submit",disabled:o,size:"xsm",className:"!rounded-full",icon:o&&(0,h.jsx)(d.A,{color:"inherit",size:16}),children:(0,h.jsxs)("span",{children:[s?"Update":"Add"," User"]})})]})]})}})]})]})}},48790:(e,s,a)=>{a.d(s,{A:()=>n});var l=a(14710),t=a(21696),r=a(91046);const n=e=>{let{to:s="/#home",className:a=""}=e;const[n,o]=(0,l.useState)(!1);return(0,r.jsx)(t.Vq,{to:s,title:"Imvura y'Ibihembo","aria-description":"Babi Games Nawe - Hindura Ubuzima",className:a,children:(0,r.jsx)("div",{className:"w-fit",children:n?(0,r.jsx)("h1",{className:"text-3xl font-bold text-secondary",children:"Babi Games"}):(0,r.jsx)("img",{loading:"lazy",src:"/logo.png",alt:"VunaDeile Logo",className:"w-14 hover:scale-125 transition-all duration-300 object-contain",onError:()=>o(!0)})})})}},45103:(e,s,a)=>{a.d(s,{A:()=>m});var l=a(76194),t=a(94055),r=a(67865),n=a(42215),o=a(95834),i=a(18345),d=a(14710),c=a(34049),u=a(94949),p=a(91046);function m(e){let{user:s,onClose:a}=e;const m=(0,n.j)(),h=(0,d.useCallback)((async(e,l)=>{let{setErrors:t,setStatus:n,setSubmitting:o}=l;const{submit:i,cpassword:d,...u}=e,p=c.oR.loading("Resetting Password...");try{o(!1),n({success:!0}),await m((0,r.h3)({id:null===s||void 0===s?void 0:s.id,password:null===u||void 0===u?void 0:u.password})).unwrap(),null===a||void 0===a||a(),c.oR.update(p,{render:"Password Reset Successfully!",type:"success",isLoading:!1,autoClose:5e3})}catch(h){n({success:!1}),t({submit:h.message||"Something went wrong"}),o(!1),c.oR.update(p,{render:"Error in Resetting Password.",type:"error",isLoading:!1,autoClose:5e3})}}),[m,a,null===s||void 0===s?void 0:s.id]);return(0,p.jsx)(i.l1,{initialValues:{password:"",cpassword:"",submit:null},validationSchema:u.Ik().shape({password:u.Yj().min(3).max(50).required("Password is required"),cpassword:u.Yj().required("Please retype your password.").oneOf([u.KR("password")],"Your passwords do not match.")}),onSubmit:h,children:e=>{let{errors:s,handleBlur:a,handleChange:r,handleSubmit:n,isSubmitting:i,touched:d,values:c}=e;return(0,p.jsxs)("form",{method:"post",className:"flex flex-col gap-4 text-sm [&_input]:!rounded-xl",onSubmit:n,children:[s.submit&&(0,p.jsx)("p",{className:"text-red-500 -my-2",children:s.submit}),(0,p.jsx)(t.pd,{label:"Password",name:"password",type:"password",placeholder:"Create Passsword",autoComplete:"password",onChange:r,onBlur:a,value:c.password,error:s.password,isTouched:Boolean(d.password),className:"!text-sm !px-4 !py-2.5",required:!0}),(0,p.jsx)(t.pd,{label:"Confirm Password",name:"cpassword",type:"password",placeholder:"Confirm Your Password",autoComplete:"password",onChange:r,onBlur:a,value:c.cpassword,error:s.cpassword,isTouched:Boolean(d.cpassword),className:"!text-sm !px-4 !py-2.5",required:!0}),(0,p.jsxs)("div",{className:"flex justify-end pt-2 gap-2",children:[(0,p.jsx)(l.A,{type:"reset",outlined:!0,disabled:i,size:"xsm",className:"!rounded-full",children:"Cancel"}),(0,p.jsx)(l.A,{type:"submit",disabled:i,size:"xsm",className:"!rounded-full",icon:i&&(0,p.jsx)(o.A,{color:"inherit",size:16}),children:"Reset Password"})]})]})}})}},52582:(e,s,a)=>{a.d(s,{A:()=>t});var l=a(91046);function t(e){let{className:s=""}=e;return(0,l.jsx)("div",{className:`h-[1.5px] bg-light-grey my-3 mt-6 ${s}`,style:{boxShadow:"-10rem 0 0 var(--light-grey-color), 10rem 0 0 var(--light-grey-color)"}})}},94055:(e,s,a)=>{a.d(s,{zk:()=>v,pd:()=>i,tT:()=>m,l6:()=>u,TM:()=>d});var l=a(14710);const t={input:"style_input__bLSca",label:"style_label__UrWPR",input_value:"style_input_value__ekW6f",autoHeight:"style_autoHeight__SiF62",valid:"style_valid__6-Lz5",autoWidth:"style_autoWidth__9LSRa",hidden:"style_hidden__62O8Y",error:"style_error__Op+ud",icons:"style_icons__JNZQK",chechbox:"style_chechbox__8C9KB",input_btn:"style_input_btn__56waj",uploader:"style_uploader__e-xX1",modal:"style_modal__g4D8Y",hover:"style_hover__AzUvB"};var r=a(22301),n=a(59297),o=a(91046);function i(e){let{name:s,id:a,placeholder:i="",boxClassName:d="",label:c="",type:u="text",inputMode:p,required:m=!1,readOnly:h=!1,autoFocus:v=!1,defaultValue:x="",value:g="",autoComplete:y,pattern:f,register:j={},error:b="",onChange:w,onBlur:N,options:k,isTouched:_,...C}=e;const M=(0,l.useId)(),A=(0,l.useMemo)((()=>a||M),[M,a]),I=(0,l.useId)(),S=(0,l.useRef)(null),[z,$]=(0,l.useState)(!1),P=(0,l.useMemo)((()=>"password"==u&&z?"text":u),[z,u]),q=(0,l.useCallback)((e=>{const s=e.target.value,a=k?k.map((e=>"string"==typeof e?e:e.value)).filter((e=>e==s))[0]:s;w&&w(e,{value:s,validValue:a})}),[w,k]);return(0,l.useEffect)((()=>{S.current&&![void 0,null,NaN].includes(g)&&g&&(S.current.value=g)}),[g]),(0,o.jsxs)("label",{className:`${t.input} ${d}`,htmlFor:A,children:[c&&(0,o.jsx)("span",{className:t.label,children:c}),(0,o.jsx)("input",{name:s,ref:S,inputMode:p||"number"==u?"numeric":"none",type:P,pattern:f,placeholder:i,id:A,list:I,defaultValue:null!==x&&void 0!==x?x:g,autoComplete:y,autoFocus:v,required:m,onChange:q,onBlur:N,readOnly:h,...j,...C}),k&&Array.isArray(k)&&k.length>0&&(0,o.jsx)("datalist",{id:I,children:k.map((e=>(0,o.jsx)("option",{value:""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e,children:(null===e||void 0===e?void 0:e.text)||e},""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e)))}),_&&b&&(0,o.jsx)("span",{className:`error ${t.error}`,children:b}),(0,o.jsx)("div",{className:t.icons,children:"password"==u&&(z?(0,o.jsx)(r.A,{className:"size-6 text-grey",onClick:()=>$(!1)}):(0,o.jsx)(n.A,{className:"size-6 text-grey",onClick:()=>$(!0)}))})]})}function d(e){let{placeholder:s="",label:a="",required:r,boxClassName:n="",resize:i="vertical",defaultValue:d="",register:c={},error:u="",isTouched:p,onChange:m=()=>{},...h}=e;const v=(0,l.useId)(),[x]=(0,l.useState)((()=>"vertical"===i.toLowerCase()?"vertical":"horizontal"===i.toLowerCase()?"horizontal":"vertical"));return(0,o.jsxs)("label",{className:`${t.input} ${n}`,children:[a&&(0,o.jsx)("span",{className:t.label,children:a}),(0,o.jsx)("textarea",{placeholder:s,defaultValue:d,id:v,required:r,style:{resize:`${x}`},onChange:m,...c,...h}),p&&u&&(0,o.jsx)("span",{className:`error ${t.error}`,children:u})]})}function c(e){let{children:s}=e;return(0,o.jsx)("small",{children:(0,o.jsxs)("b",{children:["(",s,")"]})})}function u(e){let{placeholder:s="",label:a="",required:r,defaultValue:n="",boxClassName:i="",value:d="",id:u,autoComplete:p,name:m,disabled:h,register:v={},onChange:x=()=>null,options:g,children:y,error:f="",isTouched:j,...b}=e;const w=(0,l.useId)(),N=(0,l.useRef)(null);(0,l.useEffect)((()=>{N.current&&"string"!=typeof d&&(N.current.value=d)}),[d]);const k=(0,l.useMemo)((()=>{var e,s;const a=null!==(e=null===g||void 0===g?void 0:g.findIndex((e=>[n,d].includes("string"==typeof e?e:null===e||void 0===e?void 0:e.value))))&&void 0!==e?e:-1;if(-1!==a)return"string"==typeof(null===g||void 0===g?void 0:g[a])?null===g||void 0===g?void 0:g[a]:null===g||void 0===g||null===(s=g[a])||void 0===s?void 0:s.text}),[n,g,d]);return(0,o.jsxs)("label",{htmlFor:u||w,className:`${t.input} ${i}`,children:[a&&(0,o.jsxs)("span",{className:t.label,children:[a,k&&(0,o.jsx)(c,{children:k})]}),(0,o.jsxs)("select",{ref:N,required:r,name:m,id:u||w,disabled:h,onChange:x,autoComplete:p,defaultValue:d||n||s||"",...v,...b,children:[s&&(0,o.jsx)("option",{value:"",className:`${t.placeholder} grey`,children:s}),g&&Array.isArray(g)&&g.length>0?g.map((e=>(0,o.jsx)("option",{value:""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e,children:(null===e||void 0===e?void 0:e.text)||e},""==(null===e||void 0===e?void 0:e.value)?"":(null===e||void 0===e?void 0:e.value)||e))):y]}),j&&f&&(0,o.jsx)("span",{className:`error ${t.error}`,children:f})]})}const p=(e,s)=>{(0,l.useEffect)((()=>{if(e){e.style.height="0px";const s=e.scrollHeight;e.style.height=s+"px"}}),[e,s])};function m(e){let{defaultValue:s="",placeholder:a,className:r,boxClassName:n="",name:i,id:d,error:c="",isTouched:u,label:m,required:h,onChange:v,onBlur:x}=e;const g=(0,l.useId)(),y=(0,l.useMemo)((()=>d||g),[g,d]),[f,j]=(0,l.useState)(s),b=(0,l.useRef)(null);p(b.current,f);return(0,o.jsxs)("label",{onClick:focus,className:`${t.input} ${n}`,children:[m&&(0,o.jsx)("span",{className:t.label,children:m}),(0,o.jsx)("textarea",{id:y,name:i,onBlur:x,onChange:e=>{var s;const a=null===(s=e.target)||void 0===s?void 0:s.value;j(a),null===v||void 0===v||v(e)},placeholder:a,ref:b,rows:1,value:f,className:`${r}`,required:h}),u&&c&&(0,o.jsx)("span",{className:`error ${t.error}`,children:c})]})}var h=a(43325);function v(e){let{id:s,className:a,onChange:r,children:n,hoverDiv:i,hoverClassName:d}=e;const c=(0,l.useId)(),u=(0,l.useMemo)((()=>s||c),[c,s]),[p,m]=(0,l.useState)([]),[v,x]=(0,l.useState)(void 0),g=(0,l.useMemo)((()=>"image/png, image/gif, image/jpeg, image/webp".split(", ")),[]),y=(0,l.useCallback)((async e=>{x((()=>{}));let s=!0;for(let l=0;l<e.length;l++){var a;if(!g.includes(null===(a=e[l])||void 0===a?void 0:a.type)){s=!1;break}}if(!s)return x((()=>`Accepted are ${g.join(", ")}`));await m((s=>{const a=[...e,...s].filter(((e,s,a)=>a.findIndex((s=>e.name===s.name&&e.size===s.size))===s));return null===r||void 0===r||r(e,a),a}))}),[g,r]),{getRootProps:f,getInputProps:j,isDragActive:b}=(0,h.VB)({onDrop:y}),w=(0,l.useCallback)((e=>{try{e.value=null}catch(s){}e.value&&e.parentNode.replaceChild(e.cloneNode(!0),e)}),[]),N=(0,l.useCallback)((e=>{m((s=>s.filter((s=>s!==e))))}),[]);return(0,o.jsxs)("label",{htmlFor:u,...f(),onClick:e=>e.stopPropagation(),className:`${t.uploader} ${a}`,children:[(null===n||void 0===n?void 0:n({files:p,error:v,removeImage:N}))||(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Drag here"})," your file or ",(0,o.jsx)("b",{children:"Click here"})," to upload"]}),v&&(0,o.jsx)("p",{children:v})]}),b&&(0,o.jsxs)("p",{className:t.modal,children:[(0,o.jsx)("b",{children:"Drop"}),"\xa0the files\xa0",(0,o.jsx)("b",{children:"here"})," ..."]}),(0,o.jsx)("input",{type:"file",multiple:!0,id:u,onChange:async e=>{w(e.target)},...j()}),i&&(0,o.jsx)("div",{className:`${t.hover} ${d}`,children:"function"==typeof i?(0,o.jsx)(i,{}):(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Drag here"})," your file or ",(0,o.jsx)("b",{children:"Click here"})," to upload"]})})]})}},61766:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ee});var l=a(14710),t=a(93134),r=a(59282),n=a(4449),o=a.n(n),i=a(91046);const d=function(){const[e,s]=(0,l.useState)(o()());return(0,l.useEffect)((()=>{const e=setInterval((()=>{s(o()())}),1e3);return()=>clearInterval(e)}),[]),(0,i.jsx)("p",{className:"text-sm text-grey-light",children:e.format("MMMM Do YYYY, h:mm:ss a")})};var c=a(42215),u=a(7484),p=a(79),m=(0,p.A)("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),h=a(76194),v=a(38035);const x=()=>{const e=(0,c.j)(),s=(0,l.useCallback)((()=>{e((0,v.ri)())}),[e]);return(0,i.jsx)(h.A,{className:"text-white p-2 rounded-md disabled:bg-gray-300 w-full",onClick:s,children:"Logout"})};var g=a(48419),y=a(30427),f=a(25019),j=a(78468),b=a(52582),w=a(28932),N=a(86298),k=a(69548),_=a(95834),C=a(73887);function M(){var e;const{fetchTimes:s,range:a,status:t}=(0,c.G)((e=>e.reports)),{user:r}=(0,c.G)((e=>e.user)),n=(0,c.j)(),[d,u]=(0,l.useState)([{startDate:new Date(o()(a.from).format("llll")),endDate:new Date(o()(a.to).format("llll")),key:"selection"}]),p=(0,l.useCallback)(((e,s)=>{var a,l,t,o;const i={fromDate:e,toDate:s};1==(null===r||void 0===r||null===(a=r.attributes)||void 0===a||null===(l=a.radioId)||void 0===l?void 0:l.length)&&(i.radioId=(null===r||void 0===r||null===(t=r.attributes)||void 0===t||null===(o=t.radioId)||void 0===o?void 0:o[0])||(null===i||void 0===i?void 0:i.radioId)),n((0,k.Bm)(i))}),[n,null===r||void 0===r||null===(e=r.attributes)||void 0===e?void 0:e.radioId]);return(0,l.useLayoutEffect)((()=>{s<=0&&p(a.from,a.to)}),[s,p,a.from,a.to]),(0,i.jsx)("div",{className:"flex gap-4 items-center",children:(0,i.jsx)(w.A,{mouseEnterDelay:.5,mouseLeaveDelay:.5,content:(0,i.jsxs)("div",{children:[(0,i.jsx)(N.Ur,{onChange:e=>{let{selection:s}=e;u([s])},moveRangeOnFirstSelection:!1,months:1,ranges:d,direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",rangeColors:["var(--primary-color)"],dragSelectionEnabled:!0,maxDate:C.ZI,minDate:C.Py}),(0,i.jsxs)("div",{className:"flex justify-end pt-2 gap-2",children:[(0,i.jsx)(h.A,{outlined:!0,disabled:"pending"==t,size:"xsm",className:"!rounded-full",onClick:()=>u([{startDate:new Date(a.from),endDate:new Date(a.to),key:"selection"}]),children:"Reset"}),(0,i.jsx)(h.A,{disabled:"pending"==t,size:"xsm",className:"!rounded-full",icon:"pending"==t&&(0,i.jsx)(_.A,{size:16}),onClick:()=>p(`${d[0].startDate}`,`${d[0].endDate}`),children:"Filter"})]})]}),children:(0,i.jsx)("div",{className:"cursor-pointer text-sm text-grey",children:(0,i.jsxs)("span",{className:"flex gap-2 items-center [&>*]:p-1 [&>*]:px-3 [&>*]:bg-light-grey [&>*]:bg-opacity-30 [&>*]:rounded-md",children:[(0,i.jsx)("span",{children:o()(d[0].startDate).format("ll")}),"-",(0,i.jsx)("span",{children:o()(d[0].endDate).format("ll")})]})})})})}var A=(0,p.A)("password-mobile-phone","IconPasswordMobilePhone",[["path",{d:"M12 17v4",key:"svg-0"}],["path",{d:"M10 20l4 -2",key:"svg-1"}],["path",{d:"M10 18l4 2",key:"svg-2"}],["path",{d:"M5 17v4",key:"svg-3"}],["path",{d:"M3 20l4 -2",key:"svg-4"}],["path",{d:"M3 18l4 2",key:"svg-5"}],["path",{d:"M19 17v4",key:"svg-6"}],["path",{d:"M17 20l4 -2",key:"svg-7"}],["path",{d:"M17 18l4 2",key:"svg-8"}],["path",{d:"M7 14v-8a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v8",key:"svg-9"}],["path",{d:"M11 5h2",key:"svg-10"}],["path",{d:"M12 17v.01",key:"svg-11"}]]),I=a(16330),S=a(45103);function z(e){let{user:s}=e;const[a,t]=(0,l.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{onClick:()=>t(!0),className:"flex items-center gap-2 p-1",children:[(0,i.jsx)(A,{size:20}),(0,i.jsx)("span",{children:"Reset Password"})]}),(0,i.jsxs)(I.A,{size:"sm",isOpen:a,onRequestClose:()=>t(!1),children:[(0,i.jsx)(I.w,{title:"Reset Password",onClose:()=>t(!1)}),(0,i.jsx)(S.A,{user:s})]})]})}function $(){const{pathname:e}=(0,t.zy)();return e==g.lC?(0,i.jsx)(j.A,{permission:["view_reports"],children:(0,i.jsx)(M,{})}):e.includes(g.o8)?(0,i.jsx)(j.A,{permission:"",children:(0,i.jsx)(y.A,{})}):e.includes(g.yh)?(0,i.jsx)(j.A,{permission:"create_product",children:(0,i.jsx)(f.A,{})}):void 0}function P(){var e;const{user:s}=(0,c.G)((e=>e.user));return(0,i.jsxs)("header",{className:"flex gap-3 items-center p-4 py-2",children:[(0,i.jsxs)("div",{className:"flex-grow",children:[(0,i.jsxs)("h2",{className:"text-gray-400 capitalize",children:["Hi, ",null===s||void 0===s?void 0:s.firstName]}),(0,i.jsx)(d,{})]}),(0,i.jsx)($,{}),(0,i.jsxs)(u.A,{positions:["bottom"],container:(0,i.jsx)("div",{className:"bg-primary size-12 rounded-md flex items-center justify-center text-2xl font-extrabold text-white",children:(0,i.jsx)("span",{children:null===s||void 0===s||null===(e=s.username)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),className:"min-w-[min(35ch,100dvw_-_1.5rem)]",children:[(0,i.jsxs)("div",{className:"p-2 grid gap-1 text-center text-grey",children:[(0,i.jsx)("h3",{className:"text-foreground",children:null===s||void 0===s?void 0:s.username}),(0,i.jsx)("small",{children:`${null===s||void 0===s?void 0:s.firstName} ${null===s||void 0===s?void 0:s.lastName}`}),(0,i.jsx)("small",{children:null===s||void 0===s?void 0:s.email})]}),(0,i.jsx)(b.A,{className:"!my-0 !h-[0.8px]"}),(0,i.jsxs)("div",{className:"[&>*]:p-3 hover:[&>*]:bg-light-grey ",children:[(0,i.jsxs)(r.N_,{to:g.QX,className:"flex items-center gap-2 p-1",children:[(0,i.jsx)(m,{size:20}),(0,i.jsx)("span",{children:"Go to Home"})]}),(0,i.jsx)(z,{user:s})]}),(0,i.jsx)(x,{})]})]})}const q={box:"style_box__3sZzI",mainOnly:"style_mainOnly__4gEEI",home:"style_home__TIbxs"};var E=a(67865),D=a(48790);const R=e=>{let{item:{end:s,url:a,icon:t,title:n,items:o,onClick:d}}=e;const c=(0,l.useMemo)((()=>(0,i.jsx)("div",{className:"flex gap-1 relative",children:(0,i.jsx)(r.k2,{end:s,onClick:d,to:a||"#",className:e=>{let{isActive:s}=e;return`parent flex w-full px-4 flex-col items-center gap-1 py-2 \n          ${a&&s?"text-primary bg-gradient-to-r from-transparent to-primary/10 bg-opacity-50":"hover:text-foreground hover:bg-opacity-10 hover:bg-primary"} \n          transition-all duration-300 rounded-md text-[#8e9094]`},children:e=>{let{isActive:s}=e;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(t,{size:30}),(0,i.jsx)("span",{className:"text-xs",children:n}),s&&(0,i.jsx)("div",{className:"w-1 bg-primary rounded-full my-1 absolute right-0 bottom-0 top-0"})]})}})})),[t,s,d,n,a]);return o?(0,i.jsx)(w.A,{placement:"right",content:(0,i.jsx)("div",{className:"flex flex-col",children:o.map(((e,s)=>(0,i.jsx)(j.A,{permission:e.protected,children:(0,i.jsxs)(r.k2,{to:`${e.url}`,end:null===e||void 0===e?void 0:e.end,className:e=>{let{isActive:s}=e;return"flex w-full px-4 items-center gap-2 py-2 "+(s?"text-primary hover:text-primary":"hover:text-foreground text-grey ")},children:[e.icon&&(0,i.jsx)(e.icon,{className:"size-6"}),(0,i.jsx)("span",{children:e.title})]})},s)))}),color:"white",children:c}):c};var B=(0,p.A)("home-2","IconHome2",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M10 12h4v4h-4z",key:"svg-2"}]]),T=(0,p.A)("users-group","IconUsersGroup",[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]]),O=(0,p.A)("device-analytics","IconDeviceAnalytics",[["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M7 20l10 0",key:"svg-1"}],["path",{d:"M9 16l0 4",key:"svg-2"}],["path",{d:"M15 16l0 4",key:"svg-3"}],["path",{d:"M8 12l3 -3l2 2l3 -3",key:"svg-4"}]]),V=(0,p.A)("circle-key","IconCircleKey",[["path",{d:"M14 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M21 12a9 9 0 1 1 -18 0a9 9 0 0 1 18 0z",key:"svg-1"}],["path",{d:"M12.5 11.5l-4 4l1.5 1.5",key:"svg-2"}],["path",{d:"M12 15l-1.5 -1.5",key:"svg-3"}]]),Y=(0,p.A)("package","IconPackage",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M16 5.25l-8 4.5",key:"svg-4"}]]),F=(0,p.A)("graph","IconGraph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]]),L=(0,p.A)("cash","IconCash",[["path",{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2",key:"svg-2"}]]),U=(0,p.A)("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),K=(0,p.A)("message-2-question","IconMessage2Question",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M14.5 18.5l-2.5 2.5l-3 -3h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5",key:"svg-2"}],["path",{d:"M19 22v.01",key:"svg-3"}],["path",{d:"M19 19a2.003 2.003 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483",key:"svg-4"}]]),G=(0,p.A)("radio","IconRadio",[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]]),H=(0,p.A)("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]),W=a(31983);const Q=()=>{const e=(0,l.useMemo)((()=>[{icon:B,title:"Dashboard",url:g.lC,end:!0},{icon:T,title:"Users",url:g.o8,protected:"view_users"},{icon:O,title:"Draw",url:g.cK,onClick:e=>e.preventDefault(),protected:["run_draw","view_won_token","view_temp_winner_token"],items:[{url:g.F$,title:"Make Draw",protected:["run_draw"]},{url:g.cK,title:"Draws List",protected:["run_draw"],end:!0},{url:g.nP,title:"Winners",protected:["view_won_token"]},{url:g.pv,title:"Temporaly Winners",protected:["view_temp_winner_token"]}]},{icon:V,url:g.i4,title:"Tokens",protected:["view_token"]},{icon:Y,title:"Products",url:g.yh,protected:["create_product","delete_product","update_product"]},{icon:F,url:g.tR,title:"Transactions",protected:"view-transaction"},{icon:L,url:g.YB,title:"Payments",protected:"view-transaction"},{icon:U,title:"Settings",url:g.$Y,onClick:e=>e.preventDefault(),protected:["assign_users_to_group","create_groups","create_roles","update_roles","view_roles","view_contacts"],items:[{icon:K,url:g.yJ,title:"Suggestions",protected:"view_contacts"},{icon:G,url:g.rT,title:"Radios",protected:["view_radios","update_radio","delete_radio"]},{icon:H,url:g.hf,title:"Roles",protected:["assign_users_to_group","create_groups"]},{icon:W.A,url:g.Ry,title:"Permission",protected:["create_roles","update_roles","view_roles"]}]}]),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.A,{permission:"can_login",fallback:(0,i.jsx)(D.A,{to:g.QX,className:"mx-auto flex justify-center py-3"}),children:(0,i.jsx)(D.A,{to:g.lC,className:"mx-auto flex justify-center py-3"})}),(0,i.jsx)("div",{className:"flex flex-col my-4 gap-2",children:e.map(((e,s)=>(0,i.jsx)(j.A,{permission:e.protected,children:(0,i.jsx)(R,{item:e})},s)))})]})};var X=a(39338),Z=a(55712);function J(e){var s,a;let{children:l,roles:r=[]}=e;const{good:n,bad:o}=(0,X.S)(r),{access_token:d,status:u,user:p}=(0,c.G)((e=>e.user));return"pending"==u?(0,i.jsx)(Z.A,{}):d&&p?0===r.length||o.length&&!o.includes((null===p||void 0===p||null===(s=p.role)||void 0===s?void 0:s.toLowerCase())||"member")||n.length&&null!==n&&void 0!==n&&n.includes((null===p||void 0===p||null===(a=p.role)||void 0===a?void 0:a.toLowerCase())||"")?(0,i.jsx)(i.Fragment,{children:l}):(0,i.jsx)(t.C5,{to:g.lC,replace:!0}):(0,i.jsx)(t.C5,{to:g.S0})}function ee(e){let{children:s,mainOnly:a,className:r=""}=e;const{user:n}=(0,c.G)((e=>e.user)),o=(0,c.j)(),{pathname:d}=(0,t.zy)(),u=(0,l.useCallback)((async()=>{try{n||await o((0,E.y0)()).unwrap()}catch(e){"ERR_NETWORK"==(null===e||void 0===e?void 0:e.code)&&u()}}),[o,n]);return(0,l.useLayoutEffect)((()=>{u()}),[u]),(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:`${q.box} ${d==g.lC?q.home:""} ${a?q.mainOnly:""} min-h-dvh bg-light-grey ${r}`,children:[!a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{}),(0,i.jsx)("aside",{children:(0,i.jsx)(Q,{})})]}),(0,i.jsx)("main",{className:"min-h-full relative",children:s})]})})}},31983:(e,s,a)=>{a.d(s,{A:()=>l});var l=(0,a(79).A)("settings-check","IconSettingsCheck",[["path",{d:"M11.445 20.913a1.665 1.665 0 0 1 -1.12 -1.23a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.31 .318 1.643 1.79 .997 2.694",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-2"}]])},21696:(e,s,a)=>{a.d(s,{Vq:()=>h});var l=a(14710),t=a(59282),r=function(){return r=Object.assign||function(e){for(var s,a=1,l=arguments.length;a<l;a++)for(var t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e},r.apply(this,arguments)};var n="",o=null,i=null,d=null;function c(){n="",null!==o&&o.disconnect(),null!==i&&(window.clearTimeout(i),i=null)}function u(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function p(){var e=null;if("#"===n)e=document.body;else{var s=n.replace("#","");null===(e=document.getElementById(s))&&"#top"===n&&(e=document.body)}if(null!==e){d(e);var a=e.getAttribute("tabindex");return null!==a||u(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==a||u(e)||(e.blur(),e.removeAttribute("tabindex")),c(),!0}return!1}function m(e){return l.forwardRef((function(s,a){var u="";"string"===typeof s.to&&s.to.includes("#")?u="#"+s.to.split("#").slice(1).join("#"):"object"===typeof s.to&&"string"===typeof s.to.hash&&(u=s.to.hash);var m={};e===t.k2&&(m.isActive=function(e,s){return e&&e.isExact&&s.hash===u});var h=function(e,s){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(l=Object.getOwnPropertySymbols(e);t<l.length;t++)s.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(e,l[t])&&(a[l[t]]=e[l[t]])}return a}(s,["scroll","smooth","timeout","elementId"]);return l.createElement(e,r({},m,h,{onClick:function(e){var a;c(),n=s.elementId?"#"+s.elementId:u,s.onClick&&s.onClick(e),""===n||e.defaultPrevented||0!==e.button||s.target&&"_self"!==s.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(d=s.scroll||function(e){return s.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},a=s.timeout,window.setTimeout((function(){!1===p()&&(null===o&&(o=new MutationObserver(p)),o.observe(document,{attributes:!0,childList:!0,subtree:!0}),i=window.setTimeout((function(){c()}),a||1e4))}),0))},ref:a}),s.children)}))}var h=m(t.N_);m(t.k2)}}]);
//# sourceMappingURL=844.49f6937d.chunk.js.map